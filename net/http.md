##HTTP协议

HTTP是基于TCP/IP协议的应用层协议，不涉及数据包传输，主要规定了客户端和服务器之间的通信格式，默认使用80端口

**`HTTP/0.9`**  
 
* 只有GET，只能回应html格式的字符串

**`HTTP/1.0`**

* 头信息是文本（ASCII码），后面数据可以是任何格式
* 请求格式：请求命令 + 多行头信息
* 回应格式：头信息 + 一个空行 + 数据（第一行是协议版本+状态码+状态描述）
* content—type：告诉客户端数据是什么格式，数据类型总称为MIME type（对应请求的Accept）
* Content-Encoding：说明数据的压缩方法（对应请求的Accept-Encoding）
* 缺点：每个TCP连接只能发送一个请求。发送数据完毕，连接就关闭，如果还要请求其他资源，就必须再新建一个连接。（三次握手）。为了复用TCP链接，请求和回应头信息必须有Connection: keep-alive。  

**`HTTP/1.1`**

* 持久连接：TCP连接默认不关闭，可以被多个请求复用
* 管道机制：在同一个TCP连接里面，客户端可以同时发送多个请求。服务器还是按照收到顺序一一回应
* Content-length：声明本次回应的数据长度
* 分块传输编码：产生一块数据，就发送一块。（请求或回应的头信息有Transfer-Encoding: chunked）
    
**`HTTP/2`**

* 头信息和数据体都是二进制，并且统称为"帧"（frame）：头信息帧和数据帧。
* 多工：双向的、实时的通信。在一个连接里，客户端和浏览器都可以同时发送多个请求或回应，而且不用按照顺序一一对应。
* 数据流：HTTP/2 将每个请求或回应的所有数据包，称为一个数据流（stream）。客户端发出的数据流，ID一律为奇数，服务器发出的，ID为偶数。
* 服务器推送：HTTP/2 允许服务器未经请求，主动向客户端发送资源。


**`SSL/TLS协议`**

* 所有信息都是加密传输，第三方无法窃听。
* 具有校验机制，一旦被篡改，通信双方会立刻发现。 
* 配备身份证书，防止身份被冒充。
* SSL/TLS协议的基本思路是采用公钥加密法。
* 基本过程：  
	1. 客户端向服务器端索要并验证公钥。
	2. 双方协商生成“对话密钥” --> 用来加密信息
	3. 双方采用“对话密钥”进行加密（服务器公钥只用于加密“对话密钥”本身）。
	
	> 基本过程的1跟2属于握手阶段。
* 握手阶段涉及四次通信，均是明文的：
	1. 客户端发出请求（ClientHello请求）
	2. 服务器回应（SeverHello）
	3. 客户端回应
	4. 服务器的最后回应

**参考链接**

[HTTP 协议入门](http://www.ruanyifeng.com/blog/2016/08/http.html)  
[SSL/TLS协议运行机制的概述](http://www.ruanyifeng.com/blog/2014/02/ssl_tls.html)